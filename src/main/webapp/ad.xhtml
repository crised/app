<ui:composition template="/layout/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

    <f:metadata>
        <f:viewParam name="id" value="#{singleAd.id}"/>
        <f:event type="preRenderView" listener="#{singleAd.preRender}"/>
    </f:metadata>

    <ui:define name="title">
        <h:outputText value="#{msgs['ad.title']}"/>
    </ui:define>

    <ui:define name="script">

        <link href="http://localhost/galleria/galleria.twelve.css" rel="stylesheet" type="text/css"/>
        <script src="http://localhost/galleria/galleria-1.2.9.min.js"/>
        <script src="http://localhost/galleria/galleria.twelve.min.js"/>
        <h:outputScript library="js" name="gmap.js"/>
        <script type="text/javascript"
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAdc_l79WVIxJZjkZf7bsE78mxNDk3U7gs&amp;sensor=false">
        </script>
    </ui:define>

    <ui:define name="container">

        <div class="row span10 show-grid">

            <h2>#{singleAd.ad.shortDescription}</h2>


            <div class="span5">

                <h6><h:outputText value="Has: #{singleAd.ad.surface}"/></h6>

                <h6><h:outputText value="Empresa: #{singleAd.ad.user.businessName}"/></h6>

                <h6><h:outputText value="Phone: #{singleAd.ad.user.phoneNumber1}"/></h6>
            </div>

            <div class="span5">

                <h6><h:outputText value="Mail: #{singleAd.ad.user.id}"/></h6>


                <h6><h:outputText value="#{singleAd.ad.city.getLabel()}"/></h6>

                <h6><h:outputText value="Tiene derechos de Agua Inscritos."
                                  rendered="#{singleAd.ad.waterRights}"/></h6>

                <h6><h:outputText value="Tiene Construcciones."
                                  rendered="#{singleAd.ad.facilities}"/></h6>

                <h6><h:outputText value="#{singleAd.ad.price}">
                    <f:convertNumber type="currency" locale="ES"
                                     maxFractionDigits="0"
                                     currencySymbol="$"/>
                </h:outputText></h6>
            </div>
        </div>

        <div class="row">

            <div class="span10">


                <h6>#{singleAd.ad.longDescription}</h6>
            </div>
        </div>


        <div id="galleria">
            <ui:repeat value="#{singleAd.pictureList}" var="picture">
                <a href="#{picture.path}">
                    <img src="#{picture.getPathThumbNail()}"
                         data-big="#{picture.path}"/></a>
            </ui:repeat>

        </div>

        <script>
            Galleria.loadTheme('http://localhost/galleria/galleria.twelve.min.js');
            Galleria.run('#galleria');
        </script>


        <p:gmap id="map_canvas"
                center="#{singleAd.mapBeanSimple.mapCentered}"
                zoom="10" type="ROADMAP"
                style="width:700px;height:400px" styleClass="gmap"
                model="#{singleAd.mapBeanSimple.simpleModel}">
        </p:gmap>


    </ui:define>

</ui:composition>
