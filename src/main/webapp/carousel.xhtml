<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">

<f:metadata>
    <f:viewParam name="adid" value="#{galleriaBean.ad.id}"/>
    <f:event type="preRenderView" listener="#{galleriaBean.ListPicturesByAdId}"/>
</f:metadata>

<h:head>
    <title>#{msgs.title}</title>
    <h:outputStylesheet name="css/style.css"/>
</h:head>

<h:body>


    <div class="wrapper">

        <div class="header">
        </div>

        <div class="content">

            <h:panelGrid columns="1">

                <h:form id="form1">
                    <p:carousel id="carousel" value="#{galleriaBean.pictureList}"
                                var="img" itemStyle="width: 200px">
                        <p:graphicImage value="#{img.pathThumbNail}"/>

                        <p:commandLink id="here" update=":form1:hola1"
                                       value="Delete" oncomplete="confirmation.show()">
                            <f:setPropertyActionListener value="#{img}"
                                                         target="#{galleriaBean.pictureSelected}"/>
                        </p:commandLink>


                    </p:carousel>

                    <p:confirmDialog id="hola1" message="Are you sure?" widgetVar="confirmation">
                        <p:commandButton update="form1" value="sure" actionListener="#{galleriaBean.deleteImage}"
                                         oncomplete="confirmation.hide()"/>
                        <p:commandButton value="No" oncomplete="confirmation.hide()"/>


                    </p:confirmDialog>


                </h:form>


            </h:panelGrid>


        </div>

        <div class="footer">
            <p:growl id="messages" showDetail="true"/>
            <h:outputText value="Bye bkkye..."/>
        </div>
    </div>

</h:body>


</html>